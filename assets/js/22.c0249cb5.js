(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{302:function(t,a,s){"use strict";s.r(a);var n=s(10),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"å®‰è£…æ­¥éª¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…æ­¥éª¤"}},[t._v("#")]),t._v(" å®‰è£…æ­¥éª¤")]),t._v(" "),a("h2",{attrs:{id:"ä½¿ç”¨-docker-compose-ä¸€é”®å®‰è£…å¼€å‘ç¯å¢ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-docker-compose-ä¸€é”®å®‰è£…å¼€å‘ç¯å¢ƒ"}},[t._v("#")]),t._v(" ä½¿ç”¨ Docker Compose ä¸€é”®å®‰è£…å¼€å‘ç¯å¢ƒ")]),t._v(" "),a("ol",[a("li",[t._v("Docker Compose å®‰è£…ã€‚ï¼ˆé™¤äº†ç¬¬ä¸€æ­¥éœ€è¦æ ¹æ®è‡ªå·±çš„å¹³å°å»å®‰è£… Docker Compose ä»¥å¤–ï¼Œå…¶å®ƒæ­¥éª¤éƒ½ä¸€æ ·ï¼‰")])]),t._v(" "),a("p",[t._v("åœ¨ Ubuntu ä¸‹æ‰§è¡Œå¦‚ä¸‹çš„å®‰è£…å‘½ä»¤ï¼š")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v("\n")])])]),a("p",[t._v("æŸ¥çœ‹ Docker Compose å’Œ Docker çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" version\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" version\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("åˆ›å»º "),a("code",[t._v(".env")]),t._v(" æ–‡ä»¶ï¼Œç”¨æ¥è®¾ç½®å®¹å™¨ç¼–æ’çš„ç¯å¢ƒå˜é‡ã€‚")])]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MYSQL é…ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("MYSQL_VERSION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("8.0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("test123456")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Redis é…ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("REDIS_VERSION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("7.0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("REDIS_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("test123456")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# RabbitMQ é…ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("RABBITMQ_VERSION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("3-management")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("RABBITMQ_DEFAULT_USER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("xxyopen")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("RABBITMQ_DEFAULT_PASS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("test123456")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("RABBITMQ_DEFAULT_VHOST")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("novel")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Elasticsearch é…ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("ELASTIC_VERSION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("8.6.2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 'elastic' è´¦æˆ·çš„å¯†ç  (è‡³å°‘ 6 ä¸ªå­—ç¬¦)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("ELASTIC_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("Fy2JWjJ1hcO2mi1USFL1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 'kibana_system' è´¦å·çš„å¯†ç  (è‡³å°‘ 6 ä¸ªå­—ç¬¦)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("KIBANA_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("5JbbVsW9TkYcJu9Y9")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Kibana é…ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("KIBANA_VERSION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("8.6.2")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# XXL-JOB é…ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("XXLJOB_VERSION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("2.3.1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("XXLJOB_ACCESSTOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("123")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Nacos é…ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("NACOS_VERSION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("v2.2.1")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("åˆ›å»º Docker Compose çš„å®¹å™¨ç¼–æ’æ–‡ä»¶ "),a("code",[t._v("docker-compose.yml")]),t._v("ã€‚")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3.9'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novel-mysql")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mysql\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("MYSQL_VERSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mysql\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MYSQL_ROOT_PASSWORD=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("MYSQL_ROOT_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/docker/mysql/data:/var/lib/mysql"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/docker/mysql/init.sql:/docker-entrypoint-initdb.d/init.sql"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysqld "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("max_allowed_packet=100M\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3306:3306"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novelnet\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novel-redis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("redis\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("REDIS_VERSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("redis\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("save 60 1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("loglevel warning "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('requirepass "$'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("REDIS_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v('"\n    '),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6379:6379"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novelnet\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novel-rabbitmq")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("rabbitmq\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rabbitmq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("RABBITMQ_VERSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("rabbitmq\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" RABBITMQ_DEFAULT_USER=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("RABBITMQ_DEFAULT_USER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" RABBITMQ_DEFAULT_PASS=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("RABBITMQ_DEFAULT_PASS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" RABBITMQ_DEFAULT_VHOST=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("RABBITMQ_DEFAULT_VHOST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"15672:15672"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5672:5672"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novelnet\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novel-elasticsearch-setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("elasticsearch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("setup\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" elasticsearch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ELASTIC_VERSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("elasticsearch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("setup\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v('\n      bash -c \'\n        echo "Waiting for Elasticsearch availability";\n        until curl -s http://novel-elasticsearch:9200 | grep -q "missing authentication credentials"; do sleep 30; done;\n        echo "Setting kibana_system password";\n        until curl -s -X POST -u "elastic:${ELASTIC_PASSWORD}" -H "Content-Type: application/json" http://novel-elasticsearch:9200/_security/user/kibana_system/_password -d "{\\"password\\":\\"${KIBANA_PASSWORD}\\"}" | grep -q "^{}"; do sleep 10; done;\n        echo "All done!";\n      \'')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novelnet\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novel-elasticsearch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("elasticsearch\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" elasticsearch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ELASTIC_VERSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("elasticsearch\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ES_JAVA_OPTS=-Xms125m -Xmx512m"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" discovery.type=single"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("node\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ELASTIC_PASSWORD=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ELASTIC_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" KIBANA_PASSWORD=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("KIBANA_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" xpack.security.http.ssl.enabled=false\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9200:9200"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("elasticsearch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("setup\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novelnet\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novel-kibana")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("kibana\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" kibana"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("KIBANA_VERSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("kibana\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ELASTICSEARCH_HOSTS=http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("elasticsearch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9200")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ELASTICSEARCH_USERNAME=kibana_system\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ELASTICSEARCH_PASSWORD=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("KIBANA_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5601:5601"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("elasticsearch\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novelnet\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novel-xxl-job-admin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("xxl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("job"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("admin\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" xuxueli/xxl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("job"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("XXLJOB_VERSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("xxl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("job"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("admin\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" PARAMS="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("spring.datasource.url=jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3306/xxl_job"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("useUnicode=true"),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&characterEncoding=UTF-8&autoReconnect=true&serverTimezone=Asia/Shanghai")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("spring.datasource.username=root "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("spring.datasource.password=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("MYSQL_ROOT_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("xxl.job.accessToken=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("XXLJOB_ACCESSTOKEN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" JAVA_OPTS="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Xmx512m\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /data/docker/xxl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("job"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("admin/data/applogs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/data/applogs\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8080:8080"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mysql\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novelnet\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novel-nacos-server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nacos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nacos/nacos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("NACOS_VERSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nacos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" PREFER_HOST_MODE=hostname\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MODE=standalone\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" SPRING_DATASOURCE_PLATFORM=mysql\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MYSQL_SERVICE_HOST=novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mysql\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MYSQL_SERVICE_DB_NAME=nacos\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MYSQL_SERVICE_PORT=3306\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MYSQL_SERVICE_USER=root\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MYSQL_SERVICE_PASSWORD=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("MYSQL_ROOT_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MYSQL_SERVICE_DB_PARAM=characterEncoding=utf8"),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useSSL=false&allowPublicKeyRetrieval=true")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" NACOS_AUTH_IDENTITY_KEY=xxyopen\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" NACOS_AUTH_IDENTITY_VALUE=xxyopen\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" NACOS_AUTH_TOKEN=SecretKey012345678901234567890123456789012345678901234567890123456789\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" JVM_XMS=125M\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" JVM_XMX=125M\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" JVM_XMN=50M\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" JVM_MS=50M\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" JVM_MMS=50M\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8848:8848"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9848:9848"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mysql\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" novelnet\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("novelnet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("driver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bridge\n")])])]),a("blockquote",[a("p",[t._v("æ³¨æ„ï¼šElasticsearch å®¹å™¨æŒ‚è½½æœ¬åœ°ç›®å½•æˆ–æ–‡ä»¶æ—¶ï¼Œéœ€è¦ä¿®æ”¹ç›®å½•æˆ–æ–‡ä»¶çš„è¯»å†™æƒé™ï¼Œå¦åˆ™å¯åŠ¨ä¸æˆåŠŸã€‚å®˜æ–¹åŸæ–‡å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[t._v("If you are bind-mounting a local directory or file, it must be readable by the elasticsearch user. In addition, this user must have write access to the data and log dirs. A good strategy is to grant group access to gid 1000 or 0 for the local directory.")]),t._v(" "),a("p",[t._v("For example, to prepare a local directory for storing data through a bind-mount:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" esdatadir\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" g+rwx esdatadir\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chgrp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" esdatadir\n")])])])]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[t._v("ä¸Šä¼ æ•°æ®åº“åˆå§‹åŒ–æ–‡ä»¶ "),a("code",[t._v("novel-cloud/doc/init.sql")]),t._v(" åˆ° "),a("code",[t._v("/data/docker/mysql")]),t._v(" ç›®å½•ä¸‹ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("åœ¨åå°è¿è¡Œæ‰€æœ‰ç¼–æ’æ–‡ä»¶ä¸­çš„å®¹å™¨ã€‚")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v("\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("ä½¿ç”¨ "),a("code",[t._v(".env")]),t._v(" ç¯å¢ƒæ–‡ä»¶ä¸­é…ç½®çš„ "),a("code",[t._v("elastic")]),t._v(" è´¦å·å¯†ç æ¥ç™»å½• kibana æ§åˆ¶å°ã€‚")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("elastic\nFy2JWjJ1hcO2mi1USFL1\n")])])]),a("blockquote",[a("p",[a("strong",[t._v("æ³¨æ„ï¼šMySQL éœ€è¦å…ˆæ‰§è¡Œ xxl-job å’Œ nacos çš„åˆå§‹åŒ– SQL è„šæœ¬ï¼ˆ"),a("code",[t._v("https://github.com/xuxueli/xxl-job/blob/2.3.1/doc/db/tables_xxl_job.sql")]),t._v(" å’Œ "),a("code",[t._v("https://github.com/alibaba/nacos/releases/download/2.2.1/nacos-server-2.2.1.zip!/conf/nacos-mysql.sql")]),t._v("ï¼‰åï¼Œxxl-job-admin å’Œ nacos-server æ‰èƒ½æ­£å¸¸å¯åŠ¨ã€‚SQL è„šæœ¬ä¸€å®šè¦å»ä¸‹è½½å®¹å™¨ç‰ˆæœ¬å¯¹åº”çš„æ‰è¡Œï¼Œæœ¬é¡¹ç›®å·²ç»å°†å…¨éƒ¨çš„åˆå§‹åŒ–è„šæœ¬éƒ½æ”¾åˆ°äº† "),a("code",[t._v("novel-cloud/doc/init.sql")]),t._v(" æ–‡ä»¶ä¸­ã€‚")])])]),t._v(" "),a("h2",{attrs:{id:"åç«¯æœåŠ¡å¯åŠ¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åç«¯æœåŠ¡å¯åŠ¨"}},[t._v("#")]),t._v(" åç«¯æœåŠ¡å¯åŠ¨")]),t._v(" "),a("ol",[a("li",[t._v("å°è¯´æ•°æ®å¯¼å…¥ã€‚")])]),t._v(" "),a("p",[t._v("novel-cloud æ•°æ®åº“ä¸­å¯¼å…¥ "),a("code",[t._v("https://gitee.com/novel_dev_team/novel/blob/master/doc/sql/novel.sql.zip")]),t._v(" å‹ç¼©åŒ…ä¸­çš„ "),a("code",[t._v("novel_data.sql")]),t._v(" è„šæœ¬æ–‡ä»¶ï¼ˆå¯¼å…¥å‰éœ€è¦ï¼š"),a("code",[t._v("set names utf8mb4")]),t._v("ï¼‰ã€‚")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("ç™»å½• Kibanaï¼Œæ‰§è¡Œ "),a("code",[t._v("https://github.com/201206030/novel/blob/master/doc/es/book.http")]),t._v(" æ–‡ä»¶ä¸­çš„å°è¯´ç´¢å¼•åˆ›å»ºè¯­å¥ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å¯¼å…¥ novel-cloud/doc/nacos ç›®å½•ä¸‹çš„ nacos é…ç½®æ–‡ä»¶åˆ° nacos æœåŠ¡ä¸­ï¼Œå¹¶ä¿®æ”¹ novel-mysql.ymlã€novel-redis.ymlã€novel-rabbitmq.ymlã€novel-search-service.yml ä¸­çš„é…ç½®ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ä¿®æ”¹ "),a("code",[t._v("novel-cloud/novel-core/novel-config/src/main/resources/bootstrap-common.yml")]),t._v("ã€"),a("code",[t._v("novel-cloud/novel-gateway/src/main/resources/bootstrap.yml")]),t._v(" ä¸­çš„ Nacos é…ç½®ä¸­å¿ƒåœ°å€å’Œ "),a("code",[t._v("novel-cloud/novel-core/novel-config/src/main/resources/application-common.yml")]),t._v("ã€"),a("code",[t._v("novel-cloud/novel-monitor/src/main/resources/application.yml")]),t._v("ã€"),a("code",[t._v("novel-cloud/novel-gateway/src/main/resources/application.yml")]),t._v(" ä¸­çš„ Nacos æ³¨å†Œä¸­å¿ƒåœ°å€ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å¯åŠ¨å„ä¸ªå¾®æœåŠ¡ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ç™»å½• xxl-job æ§åˆ¶å°ï¼Œç‚¹å‡»ä»»åŠ¡ç®¡ç†èœå•ï¼Œæ‰§è¡ŒåŒæ­¥å°è¯´æ•°æ®åˆ° Elasticsearch çš„ä»»åŠ¡å¯¼å…¥ MySQL ä¸­çš„å°è¯´æ•°æ®åˆ° Elasticsearchã€‚")])])]),t._v(" "),a("h2",{attrs:{id:"å‰ç«¯æœåŠ¡å¯åŠ¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯æœåŠ¡å¯åŠ¨"}},[t._v("#")]),t._v(" å‰ç«¯æœåŠ¡å¯åŠ¨")]),t._v(" "),a("ol",[a("li",[t._v("ä¸‹è½½æºç ã€‚")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://gitee.com/novel_dev_team/novel-front-web.git\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("code",[t._v("yarn")]),t._v("å®‰è£…ã€‚")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å®‰è£…é¡¹ç›®ä¾èµ–ã€‚")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨ã€‚")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" serve\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("æµè§ˆå™¨é€šè¿‡"),a("code",[t._v("http://localhost:1024")]),t._v("æ¥è®¿é—®ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"å®‰è£…è¯´æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…è¯´æ˜"}},[t._v("#")]),t._v(" å®‰è£…è¯´æ˜")]),t._v(" "),a("blockquote",[a("p",[t._v("å®‰è£…é‡åˆ°å›°éš¾å¯ä»¥è¯·æ±‚ä½œè€…"),a("code",[t._v("è¿œç¨‹ååŠ©")]),t._v(" ğŸ‘‰ "),a("a",{attrs:{href:"https://novel.xxyopen.com/service.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("äº†è§£è¯¦æƒ…"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);